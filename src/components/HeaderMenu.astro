---
const { logo } = Astro.props;
---

<header
  class="sticky top-0 z-50 backdrop-blur-lg bg-white/80 border-b duration-300 border-b-transparent px-20"
>
  <nav class="flex justify-between items-center w-full h-20 text-sky-600">
    <a class="text-sky-600" href="/">
      <h2 class="text-3xl font-bold text-sky-600">{logo}🫱🏼‍🫲🏽</h2>
    </a>
    <ul class="flex gap-8 [&>li>a]:text-sky-600 [&>li>a]:font-medium">
      <li><a href="/index">¿Quién Soy?</a></li>
      <li><a href="/information">Información</a></li>
      <li><a href="/initiatives">Iniciativas</a></li>
      <li><a href="/FooterContact">Contacto</a></li>
    </ul>
    <button id="themeToggle" type="button">
      <img id="themeDark" src="/icons/moon.svg" alt="Icono Luna" />
      <img id="themeLight" src="/icons/sun.svg" alt="Icono Sol" />
    </button>
    <!-- <div class="space-y-1 cursor-pointer lg:hidden">
      <span class="block h-0.5 w-8 bg-sky-600"></span>
      <span class="block h-0.5 w-6 bg-sky-600"></span>
      <span class="block h-0.5 w-4 bg-sky-600"></span>
    </div> -->
  </nav>
</header>

<script is:inline>
const $themeToggle = document.querySelector("#themeToggle");
const $themeToggleDark = document.querySelector("#themeDark");
const $themeToggleLight = document.querySelector("#themeLight");
const $prefersDarkMode = window.matchMedia(
  "(prefers-color-scheme: dark)"
).matches;
const $storedTheme = localStorage.getItem("color-theme");

const toggleTheme = () => {
  const isDarkMode = document.documentElement.classList.toggle("dark");
  localStorage.setItem("color-theme", isDarkMode ? "dark" : "light");
};

const updateThemeIcons = () => {
  $themeToggleDark.classList.toggle(
    "hidden",
    document.documentElement.classList.contains("dark")
  );
  $themeToggleLight.classList.toggle(
    "hidden",
    !document.documentElement.classList.contains("dark")
  );
};

if ($storedTheme === "dark" || (!$storedTheme && $prefersDarkMode)) {
  document.documentElement.classList.add("dark");
}

updateThemeIcons();
$themeToggle.addEventListener("click", () => {
  toggleTheme();
  updateThemeIcons();
});
</script>
